2026-02-02 15:49:58,356 - __main__ - INFO - üåê API Server Logging Initialized
2026-02-02 15:49:58,357 - __main__ - INFO - üìù Logs saved to: logs/dq_api_20260202_154958.log
2026-02-02 15:49:58,410 - __main__ - INFO - APP_SETTINGS loaded. Audit enabled: True
2026-02-02 15:49:58,410 - __main__ - INFO - ‚úÖ All DQ modules loaded successfully
2026-02-02 15:49:58,414 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:49:58,415 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:49:58,416 - __main__ - INFO - ‚úÖ ErrorLogger and DataQualityAudit initialized
2026-02-02 15:49:58,427 - __main__ - INFO - üöÄ Starting Data Quality Framework API
2026-02-02 15:49:58,428 - __main__ - INFO - üìä Modules available: True
2026-02-02 15:49:58,428 - __main__ - INFO - üîß Config file mode: False
2026-02-02 15:49:58,429 - __main__ - INFO - üìã Available endpoints:
2026-02-02 15:49:58,430 - __main__ - INFO -   GET  /              - API status
2026-02-02 15:49:58,431 - __main__ - INFO -   GET  /api/health    - Health check
2026-02-02 15:49:58,433 - __main__ - INFO -   POST /api/check-single - Single source analysis
2026-02-02 15:49:58,435 - __main__ - INFO -   POST /api/compare   - Source-target comparison
2026-02-02 15:49:58,435 - __main__ - INFO -   GET  /api/compare/{id} - Get comparison results
2026-02-02 15:49:58,436 - __main__ - INFO -   GET  /api/compare/{id}/mismatches - Paginated mismatches
2026-02-02 15:49:58,437 - __main__ - INFO -   GET  /api/compare/{id}/rows/count - Row counts
2026-02-02 15:49:58,438 - __main__ - INFO -   POST /api/upload    - File upload
2026-02-02 15:49:58,439 - __main__ - INFO -   GET  /api/sessions  - List sessions
2026-02-02 15:49:58,441 - __main__ - INFO -   GET  /api/sessions/<id> - Get session data
2026-02-02 15:49:58,441 - __main__ - INFO -   GET  /api/debug-db  - Database debug
2026-02-02 15:49:58,442 - __main__ - INFO - üåç Server starting on 0.0.0.0:5000 (debug=False)
2026-02-02 15:51:03,379 - __main__ - INFO - POST /api/upload - Request started
2026-02-02 15:51:03,416 - __main__ - INFO - File uploaded: 20260202_155103_rulse.xlsx (excel)
2026-02-02 15:51:03,418 - __main__ - INFO - Completed with status 200 in 0.039s
2026-02-02 15:51:03,614 - __main__ - INFO - GET /api/rules - Request started
2026-02-02 15:51:03,615 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:03,615 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:03,731 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:03,733 - __main__ - INFO - Completed with status 200 in 0.119s
2026-02-02 15:51:03,756 - __main__ - INFO - GET /api/rules - Request started
2026-02-02 15:51:03,757 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:03,758 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:03,772 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:03,773 - __main__ - INFO - Completed with status 200 in 0.018s
2026-02-02 15:51:10,852 - __main__ - INFO - POST /api/rules/execute - Request started
2026-02-02 15:51:10,853 - dq_rules - INFO - Starting business rules analysis in UI/API mode
2026-02-02 15:51:10,869 - dq_rules - INFO - Business rules tables created/verified successfully
2026-02-02 15:51:10,869 - dq_rules - INFO - Loading data for rules analysis
2026-02-02 15:51:10,870 - dq_unified - INFO - Prompting user for data source type
2026-02-02 15:51:10,871 - dq_unified - INFO - UI Data source_type: excel
2026-02-02 15:51:10,872 - dq_unified - INFO - Using source_type from UI data: excel
2026-02-02 15:51:10,872 - dq_unified - INFO - Loading data from EXCEL
2026-02-02 15:51:10,873 - dq_unified - INFO - Loading large Excel: uploads\20260202_155103_rulse.xlsx
2026-02-02 15:51:12,686 - dq_unified - INFO - Loading Excel file...
2026-02-02 15:51:12,712 - dq_unified - INFO - Loaded 20 rows from Excel
2026-02-02 15:51:12,719 - dq_unified - INFO - Memory optimization: 0.0MB -> 0.0MB (Saved: 0.0MB)
2026-02-02 15:51:12,720 - dq_unified - INFO - Loaded 20 rows, 11 columns. Memory: 123.9MB total, 0.0MB for dataframe
2026-02-02 15:51:12,721 - dq_rules - INFO - Data loaded: 20 rows, 11 columns from EXCEL: 20260202_155103_rulse.xlsx
2026-02-02 15:51:12,722 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:12,723 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:12,723 - dq_rules - INFO - BusinessRuleEngine session set to: RULES_20260202_155112_6721
2026-02-02 15:51:12,724 - dq_rules - INFO - Session ID: RULES_20260202_155112_6721
2026-02-02 15:51:12,736 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:12,737 - dq_rules - INFO - Executing specific rules: [9]
2026-02-02 15:51:12,738 - dq_rules - INFO - Executing rule: morethan20000 (threshold)
2026-02-02 15:51:12,752 - dq_rules - INFO - Logged 1 rule executions to database
2026-02-02 15:51:12,753 - dq_rules - INFO - Rule execution completed: 1 rules, 0 violations, DQ Score: 100.0%
2026-02-02 15:51:12,753 - dq_audit - INFO - Starting database insertion for business_rules...
2026-02-02 15:51:12,768 - dq_audit - INFO - Inserted business_rules record with ID: 882
2026-02-02 15:51:12,769 - dq_rules - INFO - Audit record logged for business rules session: RULES_20260202_155112_6721
2026-02-02 15:51:12,789 - dq_error_log - INFO - Retrieved 0 error logs for session RULES_20260202_155112_6721
2026-02-02 15:51:12,801 - dq_error_log - INFO - Retrieved summary: 0 total errors for session RULES_20260202_155112_6721
2026-02-02 15:51:12,816 - dq_audit - INFO - Retrieved 1 audit logs for session RULES_20260202_155112_6721
2026-02-02 15:51:12,816 - dq_rules - INFO - Business rules analysis completed for session RULES_20260202_155112_6721
2026-02-02 15:51:12,819 - __main__ - INFO - Completed with status 200 in 1.968s
2026-02-02 15:51:13,137 - __main__ - INFO - GET /api/rules/violations/RULES_20260202_155112_6721 - Request started
2026-02-02 15:51:13,138 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:13,139 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:13,152 - __main__ - INFO - Completed with status 200 in 0.015s
2026-02-02 15:51:33,829 - __main__ - INFO - POST /api/upload - Request started
2026-02-02 15:51:33,877 - __main__ - INFO - File uploaded: 20260202_155133_rulse.xlsx (excel)
2026-02-02 15:51:33,879 - __main__ - INFO - Completed with status 200 in 0.049s
2026-02-02 15:51:33,895 - __main__ - INFO - GET /api/rules - Request started
2026-02-02 15:51:33,895 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:33,896 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:33,915 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:33,916 - __main__ - INFO - Completed with status 200 in 0.021s
2026-02-02 15:51:34,230 - __main__ - INFO - GET /api/rules - Request started
2026-02-02 15:51:34,231 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:34,231 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:34,244 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:34,244 - __main__ - INFO - Completed with status 200 in 0.014s
2026-02-02 15:51:40,239 - __main__ - INFO - POST /api/rules/execute - Request started
2026-02-02 15:51:40,240 - dq_rules - INFO - Starting business rules analysis in UI/API mode
2026-02-02 15:51:40,258 - dq_rules - INFO - Business rules tables created/verified successfully
2026-02-02 15:51:40,259 - dq_rules - INFO - Loading data for rules analysis
2026-02-02 15:51:40,259 - dq_unified - INFO - Prompting user for data source type
2026-02-02 15:51:40,260 - dq_unified - INFO - UI Data source_type: excel
2026-02-02 15:51:40,260 - dq_unified - INFO - Using source_type from UI data: excel
2026-02-02 15:51:40,261 - dq_unified - INFO - Loading data from EXCEL
2026-02-02 15:51:40,262 - dq_unified - INFO - Loading large Excel: uploads\20260202_155133_rulse.xlsx
2026-02-02 15:51:40,277 - dq_unified - INFO - Loading Excel file...
2026-02-02 15:51:40,294 - dq_unified - INFO - Loaded 20 rows from Excel
2026-02-02 15:51:40,297 - dq_unified - INFO - Memory optimization: 0.0MB -> 0.0MB (Saved: 0.0MB)
2026-02-02 15:51:40,298 - dq_unified - INFO - Loaded 20 rows, 11 columns. Memory: 124.8MB total, 0.0MB for dataframe
2026-02-02 15:51:40,299 - dq_rules - INFO - Data loaded: 20 rows, 11 columns from EXCEL: 20260202_155133_rulse.xlsx
2026-02-02 15:51:40,300 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:40,301 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:40,302 - dq_rules - INFO - BusinessRuleEngine session set to: RULES_20260202_155140_3307
2026-02-02 15:51:40,302 - dq_rules - INFO - Session ID: RULES_20260202_155140_3307
2026-02-02 15:51:40,314 - dq_rules - INFO - Retrieved 9 business rules
2026-02-02 15:51:40,315 - dq_rules - INFO - Executing specific rules: [7, 2, 9, 3, 1, 8, 5, 6, 4]
2026-02-02 15:51:40,316 - dq_rules - INFO - Executing rule: Max Rows (kpi)
2026-02-02 15:51:40,330 - dq_rules - INFO - Stored KPI to history: Max Rows (count) = 20 (ID: 32)
2026-02-02 15:51:40,331 - dq_rules - INFO - Executing rule: Minimum Salary (threshold)
2026-02-02 15:51:40,332 - dq_rules - INFO - Executing rule: morethan20000 (threshold)
2026-02-02 15:51:40,333 - dq_rules - INFO - Executing rule: Valid Employment Period (cross_column)
2026-02-02 15:51:40,362 - dq_rules - INFO - Executing rule: Bonus Required (mandatory)
2026-02-02 15:51:40,363 - dq_rules - INFO - Executing rule: Total Salary Budget (aggregate)
2026-02-02 15:51:40,364 - dq_rules - INFO - Executing rule: Valid Email Format (pattern)
2026-02-02 15:51:40,365 - dq_rules - INFO - Executing rule: Salary Range (range)
2026-02-02 15:51:40,365 - dq_rules - INFO - Executing rule: Name in Email (text_comparison)
2026-02-02 15:51:40,382 - dq_rules - INFO - Logged 9 rule executions to database
2026-02-02 15:51:40,383 - dq_error_log - INFO - Starting batch logging for 21 errors, session: RULES_20260202_155140_3307
2026-02-02 15:51:40,397 - dq_error_log - INFO - Batch 1: Successfully logged 21 errors
2026-02-02 15:51:40,398 - dq_error_log - INFO - Progress: 21/21 errors processed
2026-02-02 15:51:40,399 - dq_error_log - INFO - COMPLETE: Logged 21/21 errors for session RULES_20260202_155140_3307
2026-02-02 15:51:40,415 - dq_rules - INFO - Inserted 21 into dq_rule_violations
2026-02-02 15:51:40,416 - dq_rules - INFO - Logged 21 rule violations to error logs
2026-02-02 15:51:40,416 - dq_rules - INFO - Rule execution completed: 9 rules, 21 violations, DQ Score: 52.4%
2026-02-02 15:51:40,417 - dq_audit - INFO - Starting database insertion for business_rules...
2026-02-02 15:51:40,428 - dq_audit - INFO - Inserted business_rules record with ID: 883
2026-02-02 15:51:40,429 - dq_rules - INFO - Audit record logged for business rules session: RULES_20260202_155140_3307
2026-02-02 15:51:40,443 - dq_error_log - INFO - Retrieved 21 error logs for session RULES_20260202_155140_3307
2026-02-02 15:51:40,454 - dq_error_log - INFO - Retrieved summary: 21 total errors for session RULES_20260202_155140_3307
2026-02-02 15:51:40,467 - dq_audit - INFO - Retrieved 1 audit logs for session RULES_20260202_155140_3307
2026-02-02 15:51:40,468 - dq_rules - INFO - Business rules analysis completed for session RULES_20260202_155140_3307
2026-02-02 15:51:40,472 - __main__ - INFO - Completed with status 200 in 0.233s
2026-02-02 15:51:40,788 - __main__ - INFO - GET /api/rules/violations/RULES_20260202_155140_3307 - Request started
2026-02-02 15:51:40,789 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2026-02-02 15:51:40,790 - dq_audit - INFO - Audit class initialized with database: dq_checks
2026-02-02 15:51:40,805 - __main__ - INFO - Completed with status 200 in 0.017s
