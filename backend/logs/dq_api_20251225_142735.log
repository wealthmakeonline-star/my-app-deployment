2025-12-25 14:27:35,247 - __main__ - INFO - üåê API Server Logging Initialized
2025-12-25 14:27:35,248 - __main__ - INFO - üìù Logs saved to: logs/dq_api_20251225_142735.log
2025-12-25 14:27:35,444 - __main__ - INFO - APP_SETTINGS loaded. Audit enabled: True
2025-12-25 14:27:35,445 - __main__ - INFO - ‚úÖ All DQ modules loaded successfully
2025-12-25 14:27:35,447 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2025-12-25 14:27:35,448 - dq_audit - INFO - Audit class initialized with database: dq_checks
2025-12-25 14:27:35,449 - __main__ - INFO - ‚úÖ ErrorLogger and DataQualityAudit initialized
2025-12-25 14:27:35,460 - __main__ - INFO - üöÄ Starting Data Quality Framework API
2025-12-25 14:27:35,461 - __main__ - INFO - üìä Modules available: True
2025-12-25 14:27:35,462 - __main__ - INFO - üîß Config file mode: False
2025-12-25 14:27:35,463 - __main__ - INFO - üìã Available endpoints:
2025-12-25 14:27:35,464 - __main__ - INFO -   GET  /              - API status
2025-12-25 14:27:35,465 - __main__ - INFO -   GET  /api/health    - Health check
2025-12-25 14:27:35,466 - __main__ - INFO -   POST /api/check-single - Single source analysis
2025-12-25 14:27:35,468 - __main__ - INFO -   POST /api/compare   - Source-target comparison
2025-12-25 14:27:35,469 - __main__ - INFO -   POST /api/upload    - File upload
2025-12-25 14:27:35,471 - __main__ - INFO -   GET  /api/sessions  - List sessions
2025-12-25 14:27:35,472 - __main__ - INFO -   GET  /api/sessions/<id> - Get session data
2025-12-25 14:27:35,473 - __main__ - INFO -   GET  /api/debug-db  - Database debug
2025-12-25 14:27:35,474 - __main__ - INFO - üåç Server starting on 0.0.0.0:5000 (debug=False)
2025-12-25 14:28:30,425 - __main__ - INFO - GET /api/health - Request started
2025-12-25 14:28:30,426 - __main__ - INFO - Completed with status 200 in 0.001s
2025-12-25 14:28:32,475 - __main__ - INFO - POST /api/check-single - Request started
2025-12-25 14:28:32,476 - __main__ - INFO - Single source analysis request received
2025-12-25 14:28:32,477 - __main__ - INFO - Starting analysis for session SINGLE_20251225_142832_a796e7cb
2025-12-25 14:28:32,478 - dq_unified - INFO - Prompting user for data source type
2025-12-25 14:28:32,480 - dq_unified - INFO - User selected source type: 1
2025-12-25 14:28:32,481 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:32,482 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:32,482 - dq_unified - INFO - Loading large CSV: C:/Users/003160/OneDrive - wisseninfotech.com/Documents/DQ-Checks-Shashi/Test_data/sample_data.csv
2025-12-25 14:28:32,487 - dq_unified - INFO - CSV file has 15 rows
2025-12-25 14:28:32,487 - dq_unified - INFO - Loading 15 rows from CSV...
2025-12-25 14:28:32,500 - dq_unified - INFO - Loaded 15 rows from CSV
2025-12-25 14:28:32,506 - dq_unified - INFO - Memory optimization: 0.0MB -> 0.0MB (Saved: 0.0MB)
2025-12-25 14:28:32,508 - dq_unified - INFO - Loaded 15 rows, 10 columns. Memory: 99.2MB total, 0.0MB for dataframe
2025-12-25 14:28:32,510 - dq_error_log - INFO - ErrorLogger initialized with database: dq_checks
2025-12-25 14:28:32,511 - dq_unified - INFO - API Mode: Created ErrorLogger for session SINGLE_20251225_142832
2025-12-25 14:28:32,511 - dq_unified - INFO - Checking for empty cells
2025-12-25 14:28:32,513 - dq_unified - WARNING - Column 'CustomerName': 1 empty cells (6.7%)
2025-12-25 14:28:32,723 - dq_error_log - INFO - Batch logged 1 errors for session SINGLE_20251225_142832
2025-12-25 14:28:32,725 - dq_unified - WARNING - Column 'Email': 1 empty cells (6.7%)
2025-12-25 14:28:32,745 - dq_error_log - INFO - Batch logged 1 errors for session SINGLE_20251225_142832
2025-12-25 14:28:32,747 - dq_unified - INFO - Column 'Phone': No empty cells
2025-12-25 14:28:32,748 - dq_unified - WARNING - Column 'Salary': 2 empty cells (13.3%)
2025-12-25 14:28:32,763 - dq_error_log - INFO - Batch logged 2 errors for session SINGLE_20251225_142832
2025-12-25 14:28:32,765 - dq_unified - WARNING - Column 'Department': 1 empty cells (6.7%)
2025-12-25 14:28:32,782 - dq_error_log - INFO - Batch logged 1 errors for session SINGLE_20251225_142832
2025-12-25 14:28:32,784 - dq_unified - INFO - Column 'JoinDate': No empty cells
2025-12-25 14:28:32,786 - dq_unified - INFO - Column 'PostalCode': No empty cells
2025-12-25 14:28:32,788 - dq_unified - INFO - Column 'City': No empty cells
2025-12-25 14:28:32,789 - dq_unified - INFO - Column 'Country': No empty cells
2025-12-25 14:28:32,791 - dq_unified - WARNING - Column 'State': 1 empty cells (6.7%)
2025-12-25 14:28:32,807 - dq_error_log - INFO - Batch logged 1 errors for session SINGLE_20251225_142832
2025-12-25 14:28:32,807 - dq_unified - INFO - Total empty cells found: 6
2025-12-25 14:28:32,808 - dq_unified - INFO - Checking for duplicate rows
2025-12-25 14:28:32,817 - dq_unified - INFO - No strict duplicate rows found
2025-12-25 14:28:32,818 - dq_unified - INFO - Automatically detecting key field duplicates
2025-12-25 14:28:32,820 - dq_unified - INFO - Detected potential key fields: ['CustomerName', 'Email', 'PostalCode']
2025-12-25 14:28:32,822 - dq_unified - WARNING - Found 1 duplicate values in field 'Email'
2025-12-25 14:28:32,823 - dq_unified - WARNING - Found 1 duplicate values in field 'PostalCode'
2025-12-25 14:28:32,880 - dq_unified - INFO - Skipping automatic format checking (disabled)
2025-12-25 14:28:32,881 - dq_unified - INFO - Checking mandatory fields
2025-12-25 14:28:32,881 - dq_unified - INFO - Available columns: ['CustomerName', 'Email', 'Phone', 'Salary', 'Department', 'JoinDate', 'PostalCode', 'City', 'Country', 'State']
2025-12-25 14:28:32,883 - dq_unified - INFO - Checking ALL columns as mandatory: ['CustomerName', 'Email', 'Phone', 'Salary', 'Department', 'JoinDate', 'PostalCode', 'City', 'Country', 'State']
2025-12-25 14:28:32,885 - dq_unified - WARNING - Mandatory field 'CustomerName': 1 missing values (93.3% filled)
2025-12-25 14:28:32,887 - dq_unified - WARNING - Mandatory field 'Email': 1 missing values (93.3% filled)
2025-12-25 14:28:32,889 - dq_unified - INFO - Mandatory field 'Phone': 100.0% filled
2025-12-25 14:28:32,890 - dq_unified - WARNING - Mandatory field 'Salary': 2 missing values (86.7% filled)
2025-12-25 14:28:32,892 - dq_unified - WARNING - Mandatory field 'Department': 1 missing values (93.3% filled)
2025-12-25 14:28:32,894 - dq_unified - INFO - Mandatory field 'JoinDate': 100.0% filled
2025-12-25 14:28:32,896 - dq_unified - INFO - Mandatory field 'PostalCode': 100.0% filled
2025-12-25 14:28:32,897 - dq_unified - INFO - Mandatory field 'City': 100.0% filled
2025-12-25 14:28:32,898 - dq_unified - INFO - Mandatory field 'Country': 100.0% filled
2025-12-25 14:28:32,900 - dq_unified - WARNING - Mandatory field 'State': 1 missing values (93.3% filled)
2025-12-25 14:28:32,903 - dq_unified - INFO - Mandatory field check completed: 5 columns with issues, 6 total missing values
2025-12-25 14:28:32,989 - dq_unified - INFO - Calculating overall quality score - SIMPLE PERCENTAGE
2025-12-25 14:28:32,990 - dq_unified - INFO - SIMPLE SCORE CALCULATION (like school marks):
2025-12-25 14:28:32,990 - dq_unified - INFO -   Total cells: 150
2025-12-25 14:28:32,991 - dq_unified - INFO -   Total issues: 16
2025-12-25 14:28:32,992 - dq_unified - INFO -   Calculation: (150 - 16) / 150 * 100
2025-12-25 14:28:32,992 - dq_unified - INFO -   DQ Score: 89.33%
2025-12-25 14:28:32,993 - dq_unified - INFO - Generating detailed data quality report
2025-12-25 14:28:32,998 - dq_unified - INFO - Returning JSON report for API, Session: SINGLE_20251225_142832
2025-12-25 14:28:33,000 - dq_unified - INFO - Starting audit logging for session: SINGLE_20251225_142832
2025-12-25 14:28:33,001 - dq_unified - INFO - Quality score: 89.33
2025-12-25 14:28:33,002 - dq_unified - INFO - APP_SETTINGS['audit_enabled'] = True
2025-12-25 14:28:33,002 - dq_audit - INFO - Audit class initialized with database: dq_checks
2025-12-25 14:28:33,003 - dq_unified - INFO - Audit logger created
2025-12-25 14:28:33,004 - dq_unified - INFO - Audit data prepared
2025-12-25 14:28:33,004 - dq_unified - INFO -    Session: SINGLE_20251225_142832
2025-12-25 14:28:33,005 - dq_unified - INFO -    Check Type: single_source
2025-12-25 14:28:33,006 - dq_unified - INFO -    Score: 89.33%
2025-12-25 14:28:33,007 - dq_unified - INFO - Audit enabled, calling log_audit_record...
2025-12-25 14:28:33,008 - dq_audit - INFO - Starting database insertion for single_source...
2025-12-25 14:28:33,025 - dq_audit - INFO - Inserted single_source record with ID: 285
2025-12-25 14:28:33,026 - dq_unified - INFO - Audit record logged with ID: DQ_20251225_142833
2025-12-25 14:28:33,027 - dq_unified - INFO - Analysis completed successfully for CSV: sample_data.csv
2025-12-25 14:28:33,043 - dq_error_log - INFO - Retrieved 16 error logs for session SINGLE_20251225_142832
2025-12-25 14:28:33,057 - dq_error_log - INFO - Retrieved summary: 16 total errors for session SINGLE_20251225_142832
2025-12-25 14:28:33,078 - dq_audit - INFO - Retrieved 1 audit logs for session SINGLE_20251225_142832
2025-12-25 14:28:33,079 - __main__ - INFO - Analysis completed for session SINGLE_20251225_142832
2025-12-25 14:28:33,082 - __main__ - INFO - Completed with status 200 in 0.608s
2025-12-25 14:28:35,137 - __main__ - INFO - GET /api/sessions/SINGLE_20251225_142832 - Request started
2025-12-25 14:28:35,151 - dq_error_log - INFO - Retrieved 16 error logs for session SINGLE_20251225_142832
2025-12-25 14:28:35,167 - dq_error_log - INFO - Retrieved summary: 16 total errors for session SINGLE_20251225_142832
2025-12-25 14:28:35,185 - dq_audit - INFO - Retrieved 1 audit logs for session SINGLE_20251225_142832
2025-12-25 14:28:35,186 - __main__ - INFO - Retrieved data for session SINGLE_20251225_142832
2025-12-25 14:28:35,190 - __main__ - INFO - Completed with status 200 in 0.053s
2025-12-25 14:28:37,243 - __main__ - INFO - POST /api/check-single - Request started
2025-12-25 14:28:37,244 - __main__ - INFO - Single source analysis request received
2025-12-25 14:28:37,246 - __main__ - INFO - Starting analysis for session SINGLE_20251225_142837_aec2a3a5
2025-12-25 14:28:37,246 - dq_unified - INFO - Prompting user for data source type
2025-12-25 14:28:37,248 - dq_unified - INFO - User selected source type: 1
2025-12-25 14:28:37,248 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:37,249 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:37,250 - dq_unified - INFO - Loading large CSV: C:/Users/003160/OneDrive - wisseninfotech.com/Documents/DQ-Checks-Shashi/Test_data/sample_data.xlsx
2025-12-25 14:28:37,254 - dq_unified - ERROR - Error loading large CSV: 'utf-8' codec can't decode bytes in position 15-16: invalid continuation byte
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 103, in load_large_csv
    total_rows = sum(1 for _ in f) - 1  # Subtract header
                 ^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 103, in <genexpr>
    total_rows = sum(1 for _ in f) - 1  # Subtract header
                    ^^^^^^^^^^^^^^
  File "<frozen codecs>", line 322, in decode
UnicodeDecodeError: 'utf-8' codec can't decode bytes in position 15-16: invalid continuation byte
2025-12-25 14:28:37,258 - dq_unified - ERROR - Error loading data from csv: 'utf-8' codec can't decode bytes in position 15-16: invalid continuation byte
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 1128, in load_data_from_source
    df = LargeDatasetHandler.load_large_csv(source_config, max_rows=max_rows)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 103, in load_large_csv
    total_rows = sum(1 for _ in f) - 1  # Subtract header
                 ^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 103, in <genexpr>
    total_rows = sum(1 for _ in f) - 1  # Subtract header
                    ^^^^^^^^^^^^^^
  File "<frozen codecs>", line 322, in decode
UnicodeDecodeError: 'utf-8' codec can't decode bytes in position 15-16: invalid continuation byte
2025-12-25 14:28:37,261 - dq_unified - ERROR - No data loaded or dataset is empty
2025-12-25 14:28:37,262 - __main__ - WARNING - Analysis completed with errors: No data loaded or dataset is empty
2025-12-25 14:28:37,264 - __main__ - INFO - Completed with status 200 in 0.021s
2025-12-25 14:28:39,323 - __main__ - INFO - POST /api/check-single - Request started
2025-12-25 14:28:39,324 - __main__ - INFO - Single source analysis request received
2025-12-25 14:28:39,326 - __main__ - INFO - Starting analysis for session SINGLE_20251225_142839_3c0afe24
2025-12-25 14:28:39,327 - dq_unified - INFO - Prompting user for data source type
2025-12-25 14:28:39,328 - dq_unified - INFO - User selected source type: 1
2025-12-25 14:28:39,328 - input_handler - WARNING - Required field 'file_path' not provided in UI mode, using empty string
2025-12-25 14:28:39,329 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:39,331 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:39,332 - dq_unified - INFO - Loading large CSV: 
2025-12-25 14:28:39,333 - dq_unified - ERROR - Error loading large CSV: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:39,334 - dq_unified - ERROR - Error loading data from csv: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 1128, in load_data_from_source
    df = LargeDatasetHandler.load_large_csv(source_config, max_rows=max_rows)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:39,336 - dq_unified - ERROR - No data loaded or dataset is empty
2025-12-25 14:28:39,337 - __main__ - WARNING - Analysis completed with errors: No data loaded or dataset is empty
2025-12-25 14:28:39,338 - __main__ - INFO - Completed with status 200 in 0.015s
2025-12-25 14:28:41,407 - __main__ - INFO - POST /api/check-single - Request started
2025-12-25 14:28:41,408 - __main__ - INFO - Single source analysis request received
2025-12-25 14:28:41,410 - __main__ - INFO - Starting analysis for session SINGLE_20251225_142841_cfa320ad
2025-12-25 14:28:41,411 - dq_unified - INFO - Prompting user for data source type
2025-12-25 14:28:41,412 - dq_unified - INFO - User selected source type: 1
2025-12-25 14:28:41,414 - input_handler - WARNING - Required field 'file_path' not provided in UI mode, using empty string
2025-12-25 14:28:41,414 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:41,415 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:41,417 - dq_unified - INFO - Loading large CSV: 
2025-12-25 14:28:41,418 - dq_unified - ERROR - Error loading large CSV: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:41,419 - dq_unified - ERROR - Error loading data from csv: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 1128, in load_data_from_source
    df = LargeDatasetHandler.load_large_csv(source_config, max_rows=max_rows)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:41,421 - dq_unified - ERROR - No data loaded or dataset is empty
2025-12-25 14:28:41,422 - __main__ - WARNING - Analysis completed with errors: No data loaded or dataset is empty
2025-12-25 14:28:41,422 - __main__ - INFO - Completed with status 200 in 0.015s
2025-12-25 14:28:43,493 - __main__ - INFO - POST /api/check-single - Request started
2025-12-25 14:28:43,494 - __main__ - INFO - Single source analysis request received
2025-12-25 14:28:43,496 - __main__ - INFO - Starting analysis for session SINGLE_20251225_142843_d83b2578
2025-12-25 14:28:43,499 - dq_unified - INFO - Prompting user for data source type
2025-12-25 14:28:43,500 - dq_unified - INFO - User selected source type: 1
2025-12-25 14:28:43,501 - input_handler - WARNING - Required field 'file_path' not provided in UI mode, using empty string
2025-12-25 14:28:43,502 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:43,503 - dq_unified - INFO - Loading data from CSV
2025-12-25 14:28:43,504 - dq_unified - INFO - Loading large CSV: 
2025-12-25 14:28:43,505 - dq_unified - ERROR - Error loading large CSV: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:43,506 - dq_unified - ERROR - Error loading data from csv: [Errno 2] No such file or directory: ''
Traceback (most recent call last):
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 1128, in load_data_from_source
    df = LargeDatasetHandler.load_large_csv(source_config, max_rows=max_rows)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\003160\OneDrive - wisseninfotech.com\Documents\DQ-Checks-Shashi\data_quality_framework-V2\dq_unified.py", line 102, in load_large_csv
    with open(file_path, 'r', encoding='utf-8') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: ''
2025-12-25 14:28:43,508 - dq_unified - ERROR - No data loaded or dataset is empty
2025-12-25 14:28:43,509 - __main__ - WARNING - Analysis completed with errors: No data loaded or dataset is empty
2025-12-25 14:28:43,509 - __main__ - INFO - Completed with status 200 in 0.016s
